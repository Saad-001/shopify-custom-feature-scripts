(async()=>{const t=window.Shopify?.shop;if(t)try{const e=await fetch(`https://shopify-stores-license-server.vercel.app/api/verify?shop=${t}`);if(!(await e.json()).valid)return void console.warn("Unlicensed store. Feature disabled.");class i extends HTMLElement{constructor(){super(),this.sliderInstance=null}connectedCallback(){const t=this.getAttribute("slider-id");if(!t||this.sliderInstance)return;const e=()=>{if("undefined"==typeof Splide)return void setTimeout(e,50);this.sliderType=this.getAttribute("slider-type")||"slide",this.sliderDrag="false"!==this.getAttribute("slider-drag")&&this.getAttribute("slider-drag"),this.slideItemPerpage=parseInt(this.getAttribute("slide-item-perpage"))||1,this.slideItemGap=parseInt(this.getAttribute("slide-item-gap"))||2,this.sliderAutoScroll=this.objectifyString(this.getAttribute("slider-autoscroll")),this.sliderArrows="false"!==this.getAttribute("slider-arrows"),this.sliderPauseOnHover="true"===this.getAttribute("slider-pause-on-hover"),this.sliderBreakpoints=this.objectifyString(this.getAttribute("slider-breakpoints")),this.sliderAutowidth="false"!==this.getAttribute("slider-autoWidth"),this.sliderAutoplay="false"!==this.getAttribute("slider-autoplay"),this.sliderPagination="false"!==this.getAttribute("slider-pagination");let i={};this.sliderAutowidth&&(i.autoWidth=this.sliderAutowidth);let s={};this.sliderAutoplay&&(s.autoplay=!0,s.interval=3e3,s.speed=800,s.rewind=!0,s.rewindSpeed=2e3),this.sliderInstance=new Splide(`#${t}`,{type:this.sliderType,drag:this.sliderDrag,perPage:this.slideItemPerpage,perMove:1,gap:this.slideItemGap,pagination:this.sliderPagination,...s,...i,autoScroll:{...this.sliderAutoScroll,pauseOnHover:this.sliderPauseOnHover},breakpoints:this.sliderBreakpoints,arrows:this.sliderArrows}),this.sliderAutoScroll&&window.splide?.Extensions?this.sliderInstance.mount(window.splide.Extensions):this.sliderInstance.mount()};e()}objectifyString(t){if(!t||"false"===t)return!1;if("true"==t)return!0;t=t.trim();try{return new Function(`return (${t})`)()}catch(e){return console.warn("Invalid object in slider-autoscroll:",t),!1}}disconnectedCallback(){this.sliderInstance&&(this.sliderInstance.destroy(),this.sliderInstance=null)}}customElements.define("splide-slider",i)}catch(t){return void console.error("License check failed:",t)}})();
