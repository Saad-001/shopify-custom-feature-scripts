function initCustomFeature(){const e=()=>{const e=document.querySelector(".onscroll-product-reveal--trigger"),t=e?.querySelector(".loading__spinner"),o=document.getElementById("product-grid"),n=e?.dataset.totalPages,s=e?.dataset.collectionHandle;let i=1;new IntersectionObserver(((r,a)=>{r.forEach((r=>{if(r.isIntersecting&&(i++,i<=n)){e.classList.remove("hide-visibility"),t.classList.remove("hidden");const r=new XMLHttpRequest;r.open("GET",`/collections/${s}?page=`+i,!0),r.onload=function(){if(r.status>=200&&r.status<400){(new DOMParser).parseFromString(r.responseText,"text/html").querySelectorAll("#product-grid .grid__item").forEach((function(e){o.appendChild(e)})),i>=n&&(e.classList.add("hide-visibility"),a.unobserve(e))}},r.send()}}))})).observe(e)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}(async()=>{const e=window.Shopify?.shop;if(e)try{const t=await fetch(`https://shopify-stores-license-server.vercel.app/api/verify?shop=${e}`);if(!(await t.json()).valid)return void console.warn("Unlicensed store. Feature disabled.");initCustomFeature()}catch(e){return void console.error("License check failed:",e)}})();
