function initCustomFeature(){const e=()=>{const e=document.querySelector(".load-more-btn-wrapper"),t=e?.querySelector("#load-more_btn"),n=e?.querySelector(".loading__spinner"),i=document.getElementById("product-grid"),o=e?.dataset.totalPages,s=e?.dataset.collectionHandle;let r=1;t&&t.addEventListener("click",(function(){if(r++,r<=o){t.style.visibility="hidden",n.classList.remove("hidden");const d=new XMLHttpRequest;d.open("GET",`/collections/${s}?page=`+r,!0),d.onload=function(){if(d.status>=200&&d.status<400){n.classList.add("hidden"),t.style.visibility="visible";(new DOMParser).parseFromString(d.responseText,"text/html").querySelectorAll("#product-grid .grid__item").forEach((function(e){i.appendChild(e)})),r>=o&&(e.style.display="none")}},d.send()}}))};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}(async()=>{const e=window.Shopify?.shop;if(e)try{const t=await fetch(`https://shopify-stores-license-server.vercel.app/api/verify?shop=${e}`);if(!(await t.json()).valid)return void console.warn("Unlicensed store. Feature disabled.");initCustomFeature()}catch(e){return void console.error("License check failed:",e)}})();
